<html>
<head>
    <script type="text/javascript" src="jquery-3.4.1.min.js"></script>
</head>
<body>
<input id="phone-number-input" type="text" placeholder="phone number"/>
<button id="validate-phone-number-button">validate</button>
<br>
<div id="error-message" style="color: red; display: none"></div>
<div id="result" style="color: green"></div>
<script type="text/javascript">
    $(document).ready(function () {
        let phoneNumberInput = $("#phone-number-input");
        let validatePhoneNumberButton = $("#validate-phone-number-button");
        let resultContainer = $("#result");
        let errorMessageContainer = $("#error-message");

        const submitValidationRequest = function () {
            console.log(phoneNumberInput.val());
            $.ajax({
                method: "POST",
                url: "api/v1/validatePhoneNumber",
                contentType: "application/json",
                dataType: "json",
                data: JSON.stringify({phoneNumber: phoneNumberInput.val()})
            }).done(function (response) {
                resultContainer.html(response.country);
                resultContainer.show();
                errorMessageContainer.hide();
            }).fail(function (response) {
                errorMessageContainer.html(response.responseJSON.message);
                resultContainer.hide();
                errorMessageContainer.show();
            });
        };

        phoneNumberInput.on('keypress', function (e) {
            if (e.which === 13) {
                submitValidationRequest();
            }
        });
        validatePhoneNumberButton.on("click", function () {
            submitValidationRequest();
        });
    });
</script>
</body>
</html>